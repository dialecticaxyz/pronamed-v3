<!DOCTYPE html>
<html lang="es" >
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<link rel="stylesheet" href="css/main.css">
<title>Sistema</title>
<link rel="manifest" href="/manifest.json">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="apple-mobile-web-app-title" content="Sistema">
<link rel="apple-touch-icon" href="/images/icons/icon-152x152.png">
<meta name="description" content="Sistema">
<meta name="theme-color" content="#c9c9c9" />
<style>
/*boton instalar pwa*/
#butInstall {
  position: absolute;
  top: 25px;
  left: 20px;
  background-image: url("data:image/svg+xml;charset=utf8, %3Csvg fill='rgb(0, 0, 0)' viewBox='0 0 320 512' xmlns='http://www.w3.org/2000/svg'%3E    %3Cpath d='M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z' fill-rule='evenodd'/%3E%3C/svg%3E");
  background-size: 70%;
  background-position: center center;
  background-repeat: no-repeat;
  width: 35px;
  height: 45px;
  cursor: pointer;
  color: rgb(0, 0, 0);
  display: none;
}
#butInstall>span{
  font-size: 14px;
  position: absolute;
  top: 50px;
  left: -8px;
}
.pulse {
  border-radius: 5px;
  box-shadow: 0 0 0 0 rgb(255, 255, 255);
  transform: scale(1);
  animation: pulse 1.5s infinite;
}
@keyframes pulse {
  0%{transform: scale(0.85); box-shadow: 0 0 0 0 rgba(0, 0, 0, 0.7); }
  70%{transform: scale(1); box-shadow: 0 0 0 10px rgba(0, 0, 0, 0); }
  100%{transform: scale(0.85); box-shadow: 0 0 0 0 rgba(0, 0, 0, 0); }
}
/*boton instalar pwa*/
/*boton config*/
.conf{
  width: 100px;
  height: 100px;
  position: fixed;
  left: -55px;
  bottom: -55px;
  transform: rotate(45deg);
  background-color: rgb(0, 0, 0);
  overflow: hidden;
}
.btnConfg{
  display: inline-block;
  background-color: rgb(0, 0, 0);
  position: absolute;
  left: 35px;
  bottom: 63px;
  transform: rotate(-45deg);
}
.iconUSECONFG{
  display: inline-block;
  background-image: url("data:image/svg+xml;charset=utf8, %3Csvg fill='rgb(255, 255, 255)' viewBox='0 0 640 512' xmlns='http://www.w3.org/2000/svg'%3E    %3Cpath d='M610.5 341.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 368.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm224 32c1.9 0 3.7-.5 5.6-.6 8.3-21.7 20.5-42.1 36.3-59.2 7.4-8 17.9-12.6 28.9-12.6 6.9 0 13.7 1.8 19.6 5.3l7.9 4.6c.8-.5 1.6-.9 2.4-1.4 7-14.6 11.2-30.8 11.2-48 0-61.9-50.1-112-112-112S208 82.1 208 144c0 61.9 50.1 112 112 112zm105.2 194.5c-2.3-1.2-4.6-2.6-6.8-3.9-8.2 4.8-15.3 9.8-27.5 9.8-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-10.7-34.5 24.9-49.7 25.8-50.3-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-3.8-2.2-7-5-9.8-8.1-3.3.2-6.5.6-9.8.6-24.6 0-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h255.4c-3.7-6-6.2-12.8-6.2-20.3v-9.2zM173.1 274.6C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z' fill-rule='evenodd'/%3E%3C/svg%3E");
  background-size: 80%;
  background-repeat: no-repeat;
  background-position: center center;
  width: 30px;
  height: 30px;
  margin-top: 8px;
}
/*boton config*/  

.tituloIndex{
  text-align: center;
  padding: 10px;
  font-size: 1.5em;
}
#nombre{
  text-align: center;
  padding: 5px;
  font-weight: bold;
}

/********* enlaces **********/
.contenGral{
  height: calc(100vh - 100px);
  overflow-y: scroll;
}
.menu{
  text-align: center;
  padding: 5px;
}
.enlace{
  display: block;
  background-color: rgb(221, 221, 221);
  text-align: center;
  font-size: 1em;
  font-weight: bolder;
  margin-left: 50%;
  transform: translateX(-50%);
  width: 75%;
  margin-top: 10px;
  border-radius: 15px;
  color: rgb(0, 0, 0);
  padding: 10px;
  text-decoration: none;
}
/********** enlaces ********/
.vercion{position:fixed;right: 0;bottom: 0px;padding: 5px;}
</style>  
</head>
<body onload="startDB()">
<span id="butInstall" class="pulse"><span>Instalar</span></span>
<h1 class="tituloIndex">Sistema</h1>
<div id="nombre"></div>

<div id="admin" class="contenGral hiden">
  <div class="menu">
    <a class="enlace" href="tablasData/ventasAdmin.html">LISTA DE VENTAS</a>
  </div>
  <div class="menu">
    <a class="enlace" href="inventario/inventario.html">INVENTARIO</a>
  </div>
  <div class="menu">
    <a class="enlace" href="cliente/clientes.html">CLIENTES</a>
  </div>
  <br>
  <div class="menu">
    <a class="enlace" href="administrarUsuarios/tabla.html">Lista de Usuarios</a>
    <a class="enlace" href="inventario/capInventario.html">Capital Inventario</a>
    <a class="enlace" href="tablasData/ventasMensuales.html">Ventas Mensuales</a>
    <a class="enlace" onclick="descargaVentas('admin')">Descargar Ventas</a>
    <a class="enlace" href="utilidades/sizeDB.html">Tamaño de Base de Datos</a>
    <a class="enlace" href="utilidades/setNumNota.html">Numero de Proforma</a>
    <a class="enlace" href="tablasData/ventasDelete.html">Borrar o Descargar Ventas (Txt) Servidor </a>
    <a class="enlace" href="tablasData/ventasDeleteArchivo.html">Borrar o Descargar Ventas (Txt) Archivados</a>
    <a class="enlace" href="tablasData/ventasCargaTxt.html">Ver ventas (Txt)</a>
    <a class="enlace" href="tablasData/ventasArchivo.html">Ventas Archivados</a>
    <a class="enlace" href="inventario/exelRegInventario.html">Registrar inventario exel</a>
    <a class="enlace" href="cliente/exelRegclientes.html">Registrar Clientes exel</a>
  </div>
</div>

<div id="alma" class="contenGral hiden">
  <div class="menu">
    <a class="enlace" href="inventario/inventarioAlmacen.html">IMVENTARIO</a>
  </div>
</div>

<div id="vend" class="contenGral hiden">
  <div class="menu">
    <a class="enlace" onclick="venderMovil()">VENDER</a>
  </div>
  <div class="menu">
    <a class="enlace" href="tablasData/ventasVendedor.html">LISTA DE VENTAS</a>
  </div>
  <div class="menu">
    <a class="enlace"  onclick="descargaVentas('vend')">DESCARGAR VENTAS</a>
  </div>
  <div class="menu">
    <a class="enlace" href="cliente/clientes.html">CLIENTES</a>
  </div>
</div>

<div id="Delivery" class="contenGral hiden">
  <div class="menu">
    <a class="enlace" href="tablasData/ventasDelivery.html">LISTA PEDIDOS</a>
    <a class="enlace" href="delivery/clientesUbicacion.html">Añadir Ubicación</a>
  </div>
</div>

<div class="vercion">V5J</div>
<div class="conf">
  <a class="btnConfg" href="login/login.html"><span class="iconUSECONFG"></span></a>
</div>

<script src="/js/main.js"></script>
<script>
function venderMovil(){
  localStorage.setItem("dataVenta","")
  lnk("vender/venderMovil")
}

function init_m(){
  if(storageJson("datUser").nom){
    if(storageJson("datUser").rol=="Administrar"){document.getElementById("admin").classList.remove("hiden")}
    if(storageJson("datUser").rol=="Vender"){document.getElementById("vend").classList.remove("hiden")}
    if(storageJson("datUser").rol=="Almacen"){document.getElementById("alma").classList.remove("hiden")}
    if(storageJson("datUser").rol=="Delivery"){document.getElementById("Delivery").classList.remove("hiden")}
    document.getElementById("nombre").textContent = storageJson("datUser").nom
  }
}

/*boton instalacion pwa
let deferredInstallPrompt = null;
const installButton = document.getElementById('butInstall');
installButton.addEventListener('click', installPWA);
window.addEventListener('beforeinstallprompt', saveBeforeInstallPromptEvent);
function saveBeforeInstallPromptEvent(evt) {
  deferredInstallPrompt = evt;
  installButton.style.display = "inline"
}
function installPWA(){
  deferredInstallPrompt.prompt();
  installButton.style.display = "none"
  deferredInstallPrompt.userChoice
  .then((choice) => {
    if (choice.outcome === 'accepted'){ console.log('User accepted the A2HS prompt', choice);
    }else{ console.log('User dismissed the A2HS prompt', choice); }
    deferredInstallPrompt = null;
  });
}
window.addEventListener('appinstalled', logAppInstalled);
function logAppInstalled(evt) { console.log('installed.', evt);} */
/*boton instalacion pwa*/ 

/*serviceWorker
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('/sw-admin.js')
    .then((reg) => { console.log('Service worker registered.'); });
  });
}*/
/*serviceWorker*/
</script>
</body>
</html>
